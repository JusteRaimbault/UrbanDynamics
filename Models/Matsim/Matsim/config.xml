<?xml version="1.0" ?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">
<config>

	<module name="global">
		<param name="randomSeed" value="123" />
		<param name="coordinateSystem" value="WGS84" />

		<!-- "global" number of threads.  This number is used, e.g., for replanning, but NOT in the mobsim.  This can typically be set to as many cores as you have available, or possibly even slightly more. -->
		<param name="numberOfThreads" value="4" />
	</module>
	

    <module name="network">
		 <param name="inputCRS" value="WGS84" />
		<!--<param name="inputNetworkFile" value="Network_example.xml" /> -->
		<param name="inputNetworkFile" value="Network.xml.gz" />
	</module>


<module name="plans" >
                <!-- String: minOfDurationAndEndTime tryEndTimeThenDuration endTimeOnly. Anything besides minOfDurationAndEndTime will internally use a different (simpler) version of the TimeAllocationMutator. -->
                <param name="activityDurationInterpretation" value="tryEndTimeThenDuration" />
                <!-- Possible values: reject, useMainModeIdentifier -->
                <param name="handlingOfPlansWithoutRoutingMode" value="reject" />
                <!-- The Coordinates Reference System in which the coordinates are expressed in the input file. At import, the coordinates will be converted to the coordinate system defined in "global", and willbe converted back at export. If not specified, no conversion happens. -->
                <param name="inputCRS" value="WGS84" />
                <param name="inputPersonAttributesFile" value="null" />
                <param name="inputPlansFile" value="Plans.xml" />
                <param name="insistingOnUsingDeprecatedPersonAttributeFile" value="false" />
                <!-- Defines how routes are stored in memory. Currently supported: LinkNetworkRoute, CompressedNetworkRoute. -->
                <param name="networkRouteType" value="LinkNetworkRoute" />
                <!-- (not tested) will remove plan attributes that are presumably not used, such as activityStartTime. default=false. Use with Caution! -->
                <param name="removingUnnecessaryPlanAttributes" value="false" />
        </module>



	<module name="controler">
		<param name="compressionType" value="gzip" />
		<param name="outputDirectory" value="./output" />
		<param name="firstIteration" value="0" />
		<param name="lastIteration" value="3" />
		<param name="routingAlgorithmType" value="FastAStarLandmarks" />
		<param name="writeTripsInterval" value="1" />
		<param name="dumpDataAtEnd" value="true" />
		<param name="enableLinkToLinkRouting" value="false" />
		<param name="mobsim" value="qsim" />
		<param name="createGraphs" value="false" />
		                <param name="overwriteFiles" value="deleteDirectoryIfExists" />

	</module>

<!--
 <module name="JDEQSim" >
                <param name="carSize" value="7.5" />
                <param name="endTime" value="undefined" />
                <param name="flowCapacityFactor" value="1.0" />
                <param name="gapTravelSpeed" value="15.0" />
                <param name="minimumInFlowCapacity" value="1800.0" />
                <param name="squeezeTime" value="1800.0" />
                <param name="storageCapacityFactor" value="1.0" />
        </module>
-->

	<module name="parallelEventHandling" >
                <!-- Estimated number of events during mobsim run. An optional optimization hint for the framework. -->
                <param name="estimatedNumberOfEvents" value="null" />
                <!-- Number of threads for parallel events handler. _null_ means the framework decides by itself. 0 is currently not possible. -->
                <param name="numberOfThreads" value="null" />
                <!-- If enabled, each event handler is assigned to its own thread. Note that enabling this feature disabled the numberOfThreads option! This feature is still experimental! -->
                <param name="oneThreadPerHandler" value="false" />
                <!-- If enabled, it is ensured that all events that are created during a time step of the mobility simulation are processed before the next time step is simulated. E.g. neccessary when within-day replanning is used. -->
                <param name="synchronizeOnSimSteps" value="true" />
        </module>

<module name="TimeAllocationMutator" >
                <!-- Default:true; Defines whether time mutation changes an activity's duration. -->
                <param name="mutationAffectsDuration" value="true" />
                <!-- Default:1800.0; Defines how many seconds a time mutation can maximally shift a time. -->
                <param name="mutationRange" value="1800.0" />
        </module>

<module name="changeMode" >
                <!-- Defines whether car availability is considered be considered or not. An agent has no car only if it has no license, or never access to a car. Default: true -->
                <param name="ignoreCarAvailability" value="true" />
                <!-- Defines the mode switch behavior. Possible values [fromAllModesToSpecifiedModes, fromSpecifiedModesToSpecifiedModes] Default: fromSpecifiedModesToSpecifiedModes. -->
                <param name="modeSwitchBehavior" value="fromSpecifiedModesToSpecifiedModes" />
                <!-- Defines all the modes available, including chain-based modes, seperated by commas -->
                <param name="modes" value="car,pt,walk" />
        </module>


	 <module name="subtourModeChoice" >
                <param name="behavior" value="fromSpecifiedModesToSpecifiedModes" />
                <param name="chainBasedModes" value="car" />
                <param name="considerCarAvailability" value="false" />
                <param name="modes" value="car,pt,walk" />
        </module>

<module name="qsim" >
                <param name="endTime" value="30:00:00" />
                <param name="flowCapacityFactor" value="0.001" />
                <param name="insertingWaitingVehiclesBeforeDrivingVehicles" value="true" />
                <param name="isRestrictingSeepage" value="true" />
                <param name="isSeepModeStorageFree" value="false" />
                <param name="linkDynamics" value="FIFO" />
                <param name="linkWidth" value="30.0" />
                <param name="mainMode" value="car" />
                <param name="nodeOffset" value="0.0" />
                <param name="numberOfThreads" value="10" />
                <param name="removeStuckVehicles" value="false" />
                <param name="seepMode" value="bike" />
                <param name="simEndtimeInterpretation" value="null" />
                <param name="simStarttimeInterpretation" value="maxOfStarttimeAndEarliestActivityEnd" />
                <param name="snapshotStyle" value="equiDist" />
                <param name="snapshotperiod" value="00:00:00" />
                <param name="startTime" value="undefined" />
                <param name="storageCapacityFactor" value="0.001" />
                <param name="stuckTime" value="10.0" />
                <param name="timeStepSize" value="00:00:01" />
                <param name="trafficDynamics" value="queue" />
                <param name="useLanes" value="false" />
                <param name="usePersonIdForMissingVehicleId" value="true" />
                <param name="usingFastCapacityUpdate" value="true" />
                <param name="usingThreadpool" value="true" />
                <param name="vehicleBehavior" value="teleport" />
                <param name="vehiclesSource" value="defaultVehicle" />
        </module>


	<module name="planCalcScore">
		<param name="learningRate" value="1.0" />
		<param name="BrainExpBeta" value="2.0" />

		<param name="lateArrival" value="-18" />
		<param name="earlyDeparture" value="-0" />
		<param name="performing" value="+6" />
		<param name="traveling" value="-6" />
		<param name="waiting" value="-0" />

		<param name="activityType_0"            value="home" />
		<param name="activityPriority_0"        value="1" />
		<param name="activityTypicalDuration_0" value="12:00:00" />
		<param name="activityMinimalDuration_0" value="08:00:00" />

		<param name="activityType_1"            value="work" />
		<param name="activityPriority_1"        value="1" />
		<param name="activityTypicalDuration_1" value="08:00:00" />
		<param name="activityMinimalDuration_1" value="06:00:00" />
		<param name="activityOpeningTime_1"     value="07:00:00" />
		<param name="activityLatestStartTime_1" value="09:00:00" />
		<param name="activityEarliestEndTime_1" value="" />
		<param name="activityClosingTime_1"     value="20:00:00" />

<!--
		<param name="activityType_2"            value="edu" />
		<param name="activityPriority_2"        value="1" />
		<param name="activityTypicalDuration_2" value="08:00:00" />
-->




 <parameterset type="scoringParameters" >
	 			<parameterset type="activityParams" >
						 <param name="activityType" value="home" />
						 <param name="closingTime" value="undefined" />
						 <param name="earliestEndTime" value="undefined" />
						 <param name="latestStartTime" value="undefined" />
						 <param name="minimalDuration" value="undefined" />
						 <param name="openingTime" value="undefined" />
						 <param name="priority" value="1.0" />
						 <param name="scoringThisActivityAtAll" value="false" />
						 <param name="typicalDuration" value="undefined" />
						 <param name="typicalDurationScoreComputation" value="relative" />
		 </parameterset>

		 <parameterset type="activityParams" >
							 <param name="activityType" value="work" />
							 <param name="closingTime" value="undefined" />
							 <param name="earliestEndTime" value="undefined" />
							 <param name="latestStartTime" value="undefined" />
							 <param name="minimalDuration" value="undefined" />
							 <param name="openingTime" value="undefined" />
							 <param name="priority" value="1.0" />
							 <param name="scoringThisActivityAtAll" value="false" />
							 <param name="typicalDuration" value="undefined" />
							 <param name="typicalDurationScoreComputation" value="relative" />
			 </parameterset>


	 				<parameterset type="modeParams" >
													<!-- [utils] alternative-specific constant.  Normally per trip, but that is probably buggy for multi-leg trips. -->
													<param name="constant" value="0.0" />
													<!-- [money] daily monetary constant. default=0 to be backwards compatible -->
													<param name="dailyMonetaryConstant" value="0.0" />
													<!-- [utils] daily utility constant. default=0 to be backwards compatible -->
													<param name="mode" value="car" /><param name="dailyUtilityConstant" value="0.0" />
													<!-- [utils/m] utility of traveling (e.g. walking or driving) per m, normally negative.  this is on top of the time (dis)utility. -->
													<param name="marginalUtilityOfDistance_util_m" value="0.0" />
													<!-- [utils/hr] additional marginal utility of traveling.  normally negative.  this comes on top of the opportunity cost of time -->
													<param name="marginalUtilityOfTraveling_util_hr" value="0.0" />
													<!-- [unit_of_money/m] conversion of distance into money. Normally negative. -->
													<param name="monetaryDistanceRate" value="0.0" />
									</parameterset>
									<parameterset type="modeParams" >
													<param name="constant" value="0.0" />
													<param name="dailyMonetaryConstant" value="0.0" />
													<param name="mode" value="pt" /><param name="dailyUtilityConstant" value="0.0" />
													<param name="marginalUtilityOfDistance_util_m" value="0.0" />
													<param name="marginalUtilityOfTraveling_util_hr" value="0.0" />
													<param name="monetaryDistanceRate" value="0.0" />
									</parameterset>
									<parameterset type="modeParams" >
													<param name="constant" value="0.0" />
													<param name="dailyMonetaryConstant" value="0.0" />
													<param name="mode" value="walk" /><param name="dailyUtilityConstant" value="0.0" />
													<param name="marginalUtilityOfDistance_util_m" value="0.0" />
													<param name="marginalUtilityOfTraveling_util_hr" value="0.0" />
													<param name="monetaryDistanceRate" value="0.0" />
									</parameterset>
					</parameterset>

	</module>

	<module name="strategy">
		<param name="maxAgentPlanMemorySize" value="5" /> <!-- 0 means unlimited -->

		<param name="ModuleProbability_1" value="0.2" />
		<param name="Module_1" value="BestScore" />

		<param name="ModuleProbability_2" value="0.2" />
                <param name="Module_2" value="ChangeTripMode" />

		<param name="ModuleProbability_3" value="0.2" />
		<param name="Module_3" value="ReRoute" />
		
<param name="ModuleProbability_4" value="0.2" />
		<param name="Module_4" value="TimeAllocationMutator" />

		<param name="ModuleProbability_5" value="0.2" />
		<param name="Module_5" value="SubtourModeChoice" />

	</module>
	

	<!--
	<module name="swissRailRaptor" >
							 <param name="intermodalAccessEgressModeSelection" value="CalcLeastCostModePerStop" />
							 <param name="scoringParameters" value="Default" />
							 <param name="transferPenaltyBaseCost" value="0.0" />
							 <param name="transferPenaltyCostPerTravelTimeHour" value="0.0" />
							 <param name="transferPenaltyMaxCost" value="Infinity" />
							 <param name="transferPenaltyMinCost" value="-Infinity" />
							 <param name="useIntermodalAccessEgress" value="false" />
							 <param name="useModeMappingForPassengers" value="false" />
							 <param name="useRangeQuery" value="false" />
			 </module>
	-->		
	

	

	<module name="transit" >
                <param name="inputScheduleCRS" value="EPSG:4326" />
                <param name="insistingOnUsingDeprecatedAttributeFiles" value="false" />
                <param name="transitLinesAttributesFile" value="null" />
                <param name="transitModes" value="pt" />
                <param name="transitScheduleFile" value="transit_schedule.xml.gz" />
                <param name="transitStopsAttributesFile" value="null" />
                <param name="useTransit" value="true" />
                <param name="usingTransitInMobsim" value="false" />
		<param name="vehiclesFile" value="transit_vehicles.xml.gz" />
        </module>
 

	 <!--<param name="routingAlgorithmType" value="SwissRailRaptor" />-->
	 
 
	 
<module name="transitRouter" >
                <param name="additionalTransferTime" value="0.0" />
                <param name="directWalkFactor" value="1.0" />
                <param name="extensionRadius" value="0.005" />
                <param name="maxBeelineWalkConnectionDistance" value="0.001" />
                <param name="searchRadius" value="0.01" />
        </module>


</config>
