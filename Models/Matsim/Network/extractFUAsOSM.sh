# extract OSM files for each FUA
OSMFILE=$CS_HOME/Data/OSM/Geofabrik/britain-and-ireland/britain-and-ireland-latest_20211102.osm.pbf


osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Aberdeen.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Aberdeen.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Ashford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Ashford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Aylesbury.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Aylesbury.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Ayr.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Ayr.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Bangor.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Bangor.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Basingstoke.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Basingstoke.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Bedford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Bedford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Belfast.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Belfast.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Birmingham.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Birmingham.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Blackburn.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Blackburn.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Blackpool.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Blackpool.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Blackwater.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Blackwater.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Bournemouth.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Bournemouth.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Bridgend.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Bridgend.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Brighton.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Brighton.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Bristol.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Bristol.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Burton-on-Trent.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Burton-on-Trent.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Cambridge.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Cambridge.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Canterbury.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Canterbury.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Cardiff.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Cardiff.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Carlisle.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Carlisle.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Chelmsford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Chelmsford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Chester.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Chester.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Colchester.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Colchester.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Corby.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Corby.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Coventry.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Coventry.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Crewe.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Crewe.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Darlington.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Darlington.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Dundee.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Dundee.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Dunfermline.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Dunfermline.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Eastbourne.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Eastbourne.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Edinburgh.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Edinburgh.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Exeter.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Exeter.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Fazeley.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Fazeley.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Folkestone.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Folkestone.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Glasgow.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Glasgow.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Gloucester.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Gloucester.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Great_Yarmouth.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Great_Yarmouth.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Greenock.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Greenock.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Grimsby.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Grimsby.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Harrogate.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Harrogate.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Hereford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Hereford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Hull.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Hull.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Ipswich.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Ipswich.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Lancaster.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Lancaster.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Larbert.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Larbert.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Leeds.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Leeds.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Leicester.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Leicester.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Lincoln.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Lincoln.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Liverpool.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Liverpool.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Livingston.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Livingston.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Londonderry_Derry.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Londonderry_Derry.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/London.poly completeWays=yes --write-xml compressionMethod=gzip runtime/London.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Loughborough.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Loughborough.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Lowestoft.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Lowestoft.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Luton.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Luton.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Manchester.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Manchester.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Margate.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Margate.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Middlesbrough.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Middlesbrough.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Milton_Keynes.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Milton_Keynes.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Newcastle_upon_Tyne.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Newcastle_upon_Tyne.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Northampton.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Northampton.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Norwich.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Norwich.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Nottingham.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Nottingham.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Oxford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Oxford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Peterborough.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Peterborough.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Plymouth.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Plymouth.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Portsmouth.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Portsmouth.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Preston.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Preston.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Reading.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Reading.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Redditch.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Redditch.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Royal_Tunbridge_Wells.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Royal_Tunbridge_Wells.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Rugby.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Rugby.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Scunthorpe.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Scunthorpe.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Sheffield.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Sheffield.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Shrewsbury.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Shrewsbury.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Southend-on-Sea.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Southend-on-Sea.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Southport.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Southport.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Stafford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Stafford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Stevenage.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Stevenage.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/St_Leonards.poly completeWays=yes --write-xml compressionMethod=gzip runtime/St_Leonards.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Stoke-on-Trent.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Stoke-on-Trent.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Swansea.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Swansea.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Swindon.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Swindon.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Taunton.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Taunton.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Telford.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Telford.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Torquay.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Torquay.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Warwick.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Warwick.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Weston-super-Mare.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Weston-super-Mare.osm.gz --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/Worcester.poly completeWays=yes --write-xml compressionMethod=gzip runtime/Worcester.osm.gz 

osmosis -v --read-pbf $OSMFILE --tee 10 --tag-filter accept-ways highway=* railway=* --bounding-polygon file=runtime/York.poly completeWays=yes --write-xml compressionMethod=gzip runtime/York.osm.gz 